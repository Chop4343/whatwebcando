import{S as e,i as t,s as a,o as r,p as s,q as c,v as l,w as i,x as n,a as o,e as h,t as f,g as u,c as g,b as d,d as m,f as v,h as p,k as A,l as E,y as b,G as $,I as w,K as j,F as I}from"./index.6db77a64.js";import{M as y}from"./Meta.e5f7b0e1.js";import{A as L}from"./Article.dc935b66.js";import{P as x}from"./prism.7976db51.js";function z(e,t,a){const r=Object.create(e);return r.article=t[a],r}function T(e){let t;const a=new L({props:{article:e.article}});return{c(){r(a.$$.fragment)},l(e){s(a.$$.fragment,e)},m(e,r){c(a,e,r),t=!0},p(e,t){const r={};e.otherArticles&&(r.article=t.article),a.$set(r)},i(e){t||(l(a.$$.fragment,e),t=!0)},o(e){i(a.$$.fragment,e),t=!1},d(e){n(a,e)}}}function D(e){let t,a,j,L,x,D,H,M,S,V,P,k,C,F,K,q,N,U,_,B,G,O,R,Y,J,Q,W,X,Z,ee,te,ae,re,se,ce,le,ie,ne,oe,he,fe,ue=e.article.title+"",ge=e.article.title+"",de=e.article.html+"",me=e.article.author+"";const ve=new y({props:{title:e.article.title,url:"/articles/"+e.article.slug+"/",description:e.article.description,image:e.article.image}});let pe=e.otherArticles,Ae=[];for(let t=0;t<pe.length;t+=1)Ae[t]=T(z(e,pe,t));const Ee=e=>i(Ae[e],1,1,()=>{Ae[e]=null});return{c(){r(ve.$$.fragment),t=o(),a=h("div"),j=h("main"),L=h("nav"),x=h("ul"),D=h("li"),H=h("a"),M=f("Features"),S=o(),V=h("li"),P=h("a"),k=f("Articles"),C=o(),F=h("li"),K=h("a"),q=f(ue),U=o(),_=h("h1"),B=f(ge),G=o(),O=h("div"),R=o(),Y=h("div"),J=o(),Q=h("aside"),W=h("h2"),X=f("Advertisement"),Z=o(),ee=h("div"),te=h("script"),re=o(),se=h("h2"),ce=f("See also"),le=o();for(let e=0;e<Ae.length;e+=1)Ae[e].c();ie=o(),ne=h("p"),oe=h("a"),he=f("See all"),this.h()},l(e){s(ve.$$.fragment,e),t=u(e),a=g(e,"DIV",{class:!0});var r=d(a);j=g(r,"MAIN",{class:!0});var c=d(j);L=g(c,"NAV",{class:!0,"aria-label":!0});var l=d(L);x=g(l,"UL",{});var i=d(x);D=g(i,"LI",{});var n=d(D);H=g(n,"A",{href:!0});var o=d(H);M=m(o,"Features"),o.forEach(v),n.forEach(v),S=u(i),V=g(i,"LI",{});var h=d(V);P=g(h,"A",{href:!0});var f=d(P);k=m(f,"Articles"),f.forEach(v),h.forEach(v),C=u(i),F=g(i,"LI",{class:!0});var p=d(F);K=g(p,"A",{href:!0,"aria-current":!0});var A=d(K);q=m(A,ue),A.forEach(v),p.forEach(v),i.forEach(v),l.forEach(v),U=u(c),_=g(c,"H1",{});var E=d(_);B=m(E,ge),E.forEach(v),G=u(c),O=g(c,"DIV",{class:!0}),d(O).forEach(v),R=u(c),Y=g(c,"DIV",{class:!0}),d(Y).forEach(v),c.forEach(v),J=u(r),Q=g(r,"ASIDE",{class:!0});var b=d(Q);W=g(b,"H2",{class:!0});var $=d(W);X=m($,"Advertisement"),$.forEach(v),Z=u(b),ee=g(b,"DIV",{class:!0});var w=d(ee);te=g(w,"SCRIPT",{async:!0,type:!0,src:!0,id:!0}),d(te).forEach(v),w.forEach(v),re=u(b),se=g(b,"H2",{class:!0});var I=d(se);ce=m(I,"See also"),I.forEach(v),le=u(b);for(let e=0;e<Ae.length;e+=1)Ae[e].l(b);ie=u(b),ne=g(b,"P",{class:!0});var y=d(ne);oe=g(y,"A",{href:!0,class:!0});var z=d(oe);he=m(z,"See all"),z.forEach(v),y.forEach(v),b.forEach(v),r.forEach(v),this.h()},h(){p(H,"href","/"),p(P,"href","/articles/"),p(K,"href",N="/articles/"+e.article.slug+"/"),p(K,"aria-current","page"),p(F,"class","is-active"),p(L,"class","breadcrumb"),p(L,"aria-label","breadcrumbs"),p(O,"class","content language-javascript svelte-nzu3si"),p(Y,"class","author svelte-nzu3si"),p(j,"class","svelte-nzu3si"),p(W,"class","svelte-nzu3si"),te.async=!0,p(te,"type","text/javascript"),te.src!==(ae="//cdn.carbonads.com/carbon.js?serve=CK7DT23L&placement=whatwebcandotoday")&&p(te,"src","//cdn.carbonads.com/carbon.js?serve=CK7DT23L&placement=whatwebcandotoday"),p(te,"id","_carbonads_js"),p(ee,"class","ad"),p(se,"class","svelte-nzu3si"),p(oe,"href","/articles/"),p(oe,"class","button"),p(ne,"class","text-center see-all svelte-nzu3si"),p(Q,"class","svelte-nzu3si"),p(a,"class","container svelte-nzu3si")},m(e,r){c(ve,document.head,null),A(e,t,r),A(e,a,r),E(a,j),E(j,L),E(L,x),E(x,D),E(D,H),E(H,M),E(x,S),E(x,V),E(V,P),E(P,k),E(x,C),E(x,F),E(F,K),E(K,q),E(j,U),E(j,_),E(_,B),E(j,G),E(j,O),O.innerHTML=de,E(j,R),E(j,Y),Y.innerHTML=me,E(a,J),E(a,Q),E(Q,W),E(W,X),E(Q,Z),E(Q,ee),E(ee,te),E(Q,re),E(Q,se),E(se,ce),E(Q,le);for(let e=0;e<Ae.length;e+=1)Ae[e].m(Q,null);E(Q,ie),E(Q,ne),E(ne,oe),E(oe,he),fe=!0},p(e,t){const a={};if(e.article&&(a.title=t.article.title),e.article&&(a.url="/articles/"+t.article.slug+"/"),e.article&&(a.description=t.article.description),e.article&&(a.image=t.article.image),ve.$set(a),fe&&!e.article||ue===(ue=t.article.title+"")||b(q,ue),(!fe||e.article&&N!==(N="/articles/"+t.article.slug+"/"))&&p(K,"href",N),fe&&!e.article||ge===(ge=t.article.title+"")||b(B,ge),fe&&!e.article||de===(de=t.article.html+"")||(O.innerHTML=de),fe&&!e.article||me===(me=t.article.author+"")||(Y.innerHTML=me),e.otherArticles){let a;for(pe=t.otherArticles,a=0;a<pe.length;a+=1){const r=z(t,pe,a);Ae[a]?(Ae[a].p(e,r),l(Ae[a],1)):(Ae[a]=T(r),Ae[a].c(),l(Ae[a],1),Ae[a].m(Q,ie))}for(I(),a=pe.length;a<Ae.length;a+=1)Ee(a);$()}},i(e){if(!fe){l(ve.$$.fragment,e);for(let e=0;e<pe.length;e+=1)l(Ae[e]);fe=!0}},o(e){i(ve.$$.fragment,e),Ae=Ae.filter(Boolean);for(let e=0;e<Ae.length;e+=1)i(Ae[e]);fe=!1},d(e){n(ve),e&&v(t),e&&v(a),w(Ae,e)}}}async function H({params:e,query:t}){try{const t=await this.fetch(`/articles/${e.slug}.json`);if(!t.ok)throw t;const r=await t.json(),s=await this.fetch("/articles.json"),c=await s.json(),l=(a=r,e=>a.tags.filter(t=>e.tags.includes(t)).length),i=c.filter(e=>e.slug!==r.slug).sort((e,t)=>{const a=l(e),r=l(t);return a>r?-1:a<r?1:e.weight>t.weight?-1:e.weight<t.weight?1:0});return{article:r,otherArticles:i.slice(0,3)}}catch(e){499===e.status?this.error("You're offline","This content was not cached for offline use. Please return while connected to the network."):this.error(e.status||"500",e.message||"Unexpected error")}var a}function M(e,t,a){let{article:r}=t,{otherArticles:s}=t;return j(()=>{x.highlightAll()}),e.$set=e=>{"article"in e&&a("article",r=e.article),"otherArticles"in e&&a("otherArticles",s=e.otherArticles)},{article:r,otherArticles:s}}export default class extends e{constructor(e){super(),t(this,e,M,D,a,{article:0,otherArticles:0})}}export{H as preload};
