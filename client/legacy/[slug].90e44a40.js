import{a as r,b as e,c as t,d as a,i as s,e as c,S as i,s as n,v as l,w as o,x as f,A as u,B as h,C as v,g,f as m,t as d,m as p,h as A,j as E,k as b,l as w,o as $,q as j,r as x,D as L,L as I,O as y,Q as z,K as D}from"./index.1e9c32fd.js";import{_ as T}from"./index.9bc74c5c.js";import{M as H}from"./Meta.3bd30906.js";import{A as M}from"./Article.84e98745.js";import{P as S}from"./prism.aae53702.js";function V(r,e,t){var a=Object.create(r);return a.article=e[t],a}function k(r){var e,t=new M({props:{article:r.article}});return{c:function(){l(t.$$.fragment)},l:function(r){o(t.$$.fragment,r)},m:function(r,a){f(t,r,a),e=!0},p:function(r,e){var a={};r.otherArticles&&(a.article=e.article),t.$set(a)},i:function(r){e||(u(t.$$.fragment,r),e=!0)},o:function(r){h(t.$$.fragment,r),e=!1},d:function(r){v(t,r)}}}function C(r){for(var e,t,a,s,c,i,n,z,T,M,S,C,P,K,_,q,B,F,N,O,U,Q,R,Y,G,J,W,X,Z,rr,er,tr,ar,sr,cr,ir,nr,lr,or,fr,ur=r.article.title+"",hr=r.article.title+"",vr=r.article.html+"",gr=r.article.author+"",mr=new H({props:{title:r.article.title,url:"/articles/"+r.article.slug+"/",description:r.article.description,image:r.article.image}}),dr=r.otherArticles,pr=[],Ar=0;Ar<dr.length;Ar+=1)pr[Ar]=k(V(r,dr,Ar));var Er=function(r){return h(pr[r],1,1,(function(){pr[r]=null}))};return{c:function(){l(mr.$$.fragment),e=g(),t=m("div"),a=m("main"),s=m("nav"),c=m("ul"),i=m("li"),n=m("a"),z=d("Features"),T=g(),M=m("li"),S=m("a"),C=d("Articles"),P=g(),K=m("li"),_=m("a"),q=d(ur),F=g(),N=m("h1"),O=d(hr),U=g(),Q=m("div"),R=g(),Y=m("div"),G=g(),J=m("aside"),W=m("h2"),X=d("Advertisement"),Z=g(),rr=m("div"),er=m("script"),tr=g(),ar=m("h2"),sr=d("See also"),cr=g();for(var r=0;r<pr.length;r+=1)pr[r].c();ir=g(),nr=m("p"),lr=m("a"),or=d("See all"),this.h()},l:function(r){o(mr.$$.fragment,r),e=p(r),t=A(r,"DIV",{class:!0});var l=E(t);a=A(l,"MAIN",{class:!0});var f=E(a);s=A(f,"NAV",{class:!0,"aria-label":!0});var u=E(s);c=A(u,"UL",{});var h=E(c);i=A(h,"LI",{});var v=E(i);n=A(v,"A",{href:!0});var g=E(n);z=b(g,"Features"),g.forEach(w),v.forEach(w),T=p(h),M=A(h,"LI",{});var m=E(M);S=A(m,"A",{href:!0});var d=E(S);C=b(d,"Articles"),d.forEach(w),m.forEach(w),P=p(h),K=A(h,"LI",{class:!0});var $=E(K);_=A($,"A",{href:!0,"aria-current":!0});var j=E(_);q=b(j,ur),j.forEach(w),$.forEach(w),h.forEach(w),u.forEach(w),F=p(f),N=A(f,"H1",{});var x=E(N);O=b(x,hr),x.forEach(w),U=p(f),Q=A(f,"DIV",{class:!0}),E(Q).forEach(w),R=p(f),Y=A(f,"DIV",{class:!0}),E(Y).forEach(w),f.forEach(w),G=p(l),J=A(l,"ASIDE",{class:!0});var L=E(J);W=A(L,"H2",{class:!0});var I=E(W);X=b(I,"Advertisement"),I.forEach(w),Z=p(L),rr=A(L,"DIV",{class:!0});var y=E(rr);er=A(y,"SCRIPT",{async:!0,type:!0,src:!0,id:!0}),E(er).forEach(w),y.forEach(w),tr=p(L),ar=A(L,"H2",{class:!0});var D=E(ar);sr=b(D,"See also"),D.forEach(w),cr=p(L);for(var H=0;H<pr.length;H+=1)pr[H].l(L);ir=p(L),nr=A(L,"P",{class:!0});var V=E(nr);lr=A(V,"A",{href:!0,class:!0});var k=E(lr);or=b(k,"See all"),k.forEach(w),V.forEach(w),L.forEach(w),l.forEach(w),this.h()},h:function(){$(n,"href","/"),$(S,"href","/articles/"),$(_,"href",B="/articles/"+r.article.slug+"/"),$(_,"aria-current","page"),$(K,"class","is-active"),$(s,"class","breadcrumb"),$(s,"aria-label","breadcrumbs"),$(Q,"class","content language-javascript svelte-nzu3si"),$(Y,"class","author svelte-nzu3si"),$(a,"class","svelte-nzu3si"),$(W,"class","svelte-nzu3si"),er.async=!0,$(er,"type","text/javascript"),er.src!=="//cdn.carbonads.com/carbon.js?serve=CK7DT23L&placement=whatwebcandotoday"&&$(er,"src","//cdn.carbonads.com/carbon.js?serve=CK7DT23L&placement=whatwebcandotoday"),$(er,"id","_carbonads_js"),$(rr,"class","ad"),$(ar,"class","svelte-nzu3si"),$(lr,"href","/articles/"),$(lr,"class","button"),$(nr,"class","text-center see-all svelte-nzu3si"),$(J,"class","svelte-nzu3si"),$(t,"class","container svelte-nzu3si")},m:function(r,l){f(mr,document.head,null),j(r,e,l),j(r,t,l),x(t,a),x(a,s),x(s,c),x(c,i),x(i,n),x(n,z),x(c,T),x(c,M),x(M,S),x(S,C),x(c,P),x(c,K),x(K,_),x(_,q),x(a,F),x(a,N),x(N,O),x(a,U),x(a,Q),Q.innerHTML=vr,x(a,R),x(a,Y),Y.innerHTML=gr,x(t,G),x(t,J),x(J,W),x(W,X),x(J,Z),x(J,rr),x(rr,er),x(J,tr),x(J,ar),x(ar,sr),x(J,cr);for(var o=0;o<pr.length;o+=1)pr[o].m(J,null);x(J,ir),x(J,nr),x(nr,lr),x(lr,or),fr=!0},p:function(r,e){var t={};if(r.article&&(t.title=e.article.title),r.article&&(t.url="/articles/"+e.article.slug+"/"),r.article&&(t.description=e.article.description),r.article&&(t.image=e.article.image),mr.$set(t),fr&&!r.article||ur===(ur=e.article.title+"")||L(q,ur),(!fr||r.article&&B!==(B="/articles/"+e.article.slug+"/"))&&$(_,"href",B),fr&&!r.article||hr===(hr=e.article.title+"")||L(O,hr),fr&&!r.article||vr===(vr=e.article.html+"")||(Q.innerHTML=vr),fr&&!r.article||gr===(gr=e.article.author+"")||(Y.innerHTML=gr),r.otherArticles){var a;for(dr=e.otherArticles,a=0;a<dr.length;a+=1){var s=V(e,dr,a);pr[a]?(pr[a].p(r,s),u(pr[a],1)):(pr[a]=k(s),pr[a].c(),u(pr[a],1),pr[a].m(J,ir))}for(D(),a=dr.length;a<pr.length;a+=1)Er(a);I()}},i:function(r){if(!fr){u(mr.$$.fragment,r);for(var e=0;e<dr.length;e+=1)u(pr[e]);fr=!0}},o:function(r){h(mr.$$.fragment,r),pr=pr.filter(Boolean);for(var e=0;e<pr.length;e+=1)h(pr[e]);fr=!1},d:function(r){v(mr),r&&w(e),r&&w(t),y(pr,r)}}}var P=function(r){return function(e){return r.tags.filter((function(r){return e.tags.includes(r)})).length}};function K(r){var e,t,a,s,c,i,n;return T.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=r.params,r.query,l.prev=1,l.next=4,T.awrap(this.fetch("/articles/".concat(e.slug,".json")));case 4:if((t=l.sent).ok){l.next=7;break}throw t;case 7:return l.next=9,T.awrap(t.json());case 9:return a=l.sent,l.next=12,T.awrap(this.fetch("/articles.json"));case 12:return s=l.sent,l.next=15,T.awrap(s.json());case 15:return c=l.sent,i=P(a),n=c.filter((function(r){return r.slug!==a.slug})).sort((function(r,e){var t=i(r),a=i(e);return t>a?-1:t<a?1:r.weight>e.weight?-1:r.weight<e.weight?1:0})),l.abrupt("return",{article:a,otherArticles:n.slice(0,3)});case 21:l.prev=21,l.t0=l.catch(1),499===l.t0.status?this.error("You're offline","This content was not cached for offline use. Please return while connected to the network."):this.error(l.t0.status||"500",l.t0.message||"Unexpected error");case 24:case"end":return l.stop()}}),null,this,[[1,21]])}function _(r,e,t){var a=e.article,s=e.otherArticles;return z((function(){S.highlightAll()})),r.$set=function(r){"article"in r&&t("article",a=r.article),"otherArticles"in r&&t("otherArticles",s=r.otherArticles)},{article:a,otherArticles:s}}var q=function(l){function o(r){var i;return e(this,o),i=t(this,a(o).call(this)),s(c(i),r,_,C,n,{article:0,otherArticles:0}),i}return r(o,i),o}();export default q;export{K as preload};
