import{a as r,b as e,c as t,d as a,i as s,e as c,S as i,s as n,v as l,w as o,x as f,A as u,B as h,C as v,g as d,f as g,t as m,m as p,h as A,j as b,k as E,l as w,o as $,q as j,r as x,D as L,L as I,O as y,Q as z,K as D}from"./index.9a31b5d4.js";import{_ as T}from"./index.5f0b016c.js";import{M as H}from"./Meta.2d394d92.js";import{A as M}from"./Article.c8ef1de6.js";import{P as S}from"./prism.fc24acab.js";function V(r,e,t){var a=Object.create(r);return a.article=e[t],a}function k(r){var e,t=new M({props:{article:r.article}});return{c:function(){l(t.$$.fragment)},l:function(r){o(t.$$.fragment,r)},m:function(r,a){f(t,r,a),e=!0},p:function(r,e){var a={};r.otherArticles&&(a.article=e.article),t.$set(a)},i:function(r){e||(u(t.$$.fragment,r),e=!0)},o:function(r){h(t.$$.fragment,r),e=!1},d:function(r){v(t,r)}}}function C(r){for(var e,t,a,s,c,i,n,z,T,M,S,C,P,K,_,q,B,F,N,O,U,Q,R,Y,G,J,W,X,Z,rr,er,tr,ar,sr,cr,ir,nr,lr,or,fr,ur=r.article.title+"",hr=r.article.title+"",vr=r.article.html+"",dr=r.article.author+"",gr=new H({props:{title:r.article.title,url:"/articles/"+r.article.slug+"/",description:r.article.description,image:r.article.image}}),mr=r.otherArticles,pr=[],Ar=0;Ar<mr.length;Ar+=1)pr[Ar]=k(V(r,mr,Ar));var br=function(r){return h(pr[r],1,1,(function(){pr[r]=null}))};return{c:function(){l(gr.$$.fragment),e=d(),t=g("div"),a=g("main"),s=g("nav"),c=g("ul"),i=g("li"),n=g("a"),z=m("Features"),T=d(),M=g("li"),S=g("a"),C=m("Articles"),P=d(),K=g("li"),_=g("a"),q=m(ur),F=d(),N=g("h1"),O=m(hr),U=d(),Q=g("div"),R=d(),Y=g("div"),G=d(),J=g("aside"),W=g("h2"),X=m("Advertisement"),Z=d(),rr=g("div"),er=g("script"),tr=d(),ar=g("h2"),sr=m("See also"),cr=d();for(var r=0;r<pr.length;r+=1)pr[r].c();ir=d(),nr=g("p"),lr=g("a"),or=m("See all"),this.h()},l:function(r){o(gr.$$.fragment,r),e=p(r),t=A(r,"DIV",{class:!0});var l=b(t);a=A(l,"MAIN",{class:!0});var f=b(a);s=A(f,"NAV",{class:!0,"aria-label":!0});var u=b(s);c=A(u,"UL",{});var h=b(c);i=A(h,"LI",{});var v=b(i);n=A(v,"A",{href:!0});var d=b(n);z=E(d,"Features"),d.forEach(w),v.forEach(w),T=p(h),M=A(h,"LI",{});var g=b(M);S=A(g,"A",{href:!0});var m=b(S);C=E(m,"Articles"),m.forEach(w),g.forEach(w),P=p(h),K=A(h,"LI",{class:!0});var $=b(K);_=A($,"A",{href:!0,"aria-current":!0});var j=b(_);q=E(j,ur),j.forEach(w),$.forEach(w),h.forEach(w),u.forEach(w),F=p(f),N=A(f,"H1",{});var x=b(N);O=E(x,hr),x.forEach(w),U=p(f),Q=A(f,"DIV",{class:!0}),b(Q).forEach(w),R=p(f),Y=A(f,"DIV",{class:!0}),b(Y).forEach(w),f.forEach(w),G=p(l),J=A(l,"ASIDE",{class:!0});var L=b(J);W=A(L,"H2",{class:!0});var I=b(W);X=E(I,"Advertisement"),I.forEach(w),Z=p(L),rr=A(L,"DIV",{class:!0});var y=b(rr);er=A(y,"SCRIPT",{async:!0,type:!0,src:!0,id:!0}),b(er).forEach(w),y.forEach(w),tr=p(L),ar=A(L,"H2",{class:!0});var D=b(ar);sr=E(D,"See also"),D.forEach(w),cr=p(L);for(var H=0;H<pr.length;H+=1)pr[H].l(L);ir=p(L),nr=A(L,"P",{class:!0});var V=b(nr);lr=A(V,"A",{href:!0,class:!0});var k=b(lr);or=E(k,"See all"),k.forEach(w),V.forEach(w),L.forEach(w),l.forEach(w),this.h()},h:function(){$(n,"href","/"),$(S,"href","/articles/"),$(_,"href",B="/articles/"+r.article.slug+"/"),$(_,"aria-current","page"),$(K,"class","is-active"),$(s,"class","breadcrumb"),$(s,"aria-label","breadcrumbs"),$(Q,"class","content language-javascript svelte-nzu3si"),$(Y,"class","author svelte-nzu3si"),$(a,"class","svelte-nzu3si"),$(W,"class","svelte-nzu3si"),er.async=!0,$(er,"type","text/javascript"),er.src!=="//cdn.carbonads.com/carbon.js?serve=CK7DT23L&placement=whatwebcandotoday"&&$(er,"src","//cdn.carbonads.com/carbon.js?serve=CK7DT23L&placement=whatwebcandotoday"),$(er,"id","_carbonads_js"),$(rr,"class","ad"),$(ar,"class","svelte-nzu3si"),$(lr,"href","/articles/"),$(lr,"class","button"),$(nr,"class","text-center see-all svelte-nzu3si"),$(J,"class","svelte-nzu3si"),$(t,"class","container svelte-nzu3si")},m:function(r,l){f(gr,document.head,null),j(r,e,l),j(r,t,l),x(t,a),x(a,s),x(s,c),x(c,i),x(i,n),x(n,z),x(c,T),x(c,M),x(M,S),x(S,C),x(c,P),x(c,K),x(K,_),x(_,q),x(a,F),x(a,N),x(N,O),x(a,U),x(a,Q),Q.innerHTML=vr,x(a,R),x(a,Y),Y.innerHTML=dr,x(t,G),x(t,J),x(J,W),x(W,X),x(J,Z),x(J,rr),x(rr,er),x(J,tr),x(J,ar),x(ar,sr),x(J,cr);for(var o=0;o<pr.length;o+=1)pr[o].m(J,null);x(J,ir),x(J,nr),x(nr,lr),x(lr,or),fr=!0},p:function(r,e){var t={};if(r.article&&(t.title=e.article.title),r.article&&(t.url="/articles/"+e.article.slug+"/"),r.article&&(t.description=e.article.description),r.article&&(t.image=e.article.image),gr.$set(t),fr&&!r.article||ur===(ur=e.article.title+"")||L(q,ur),(!fr||r.article&&B!==(B="/articles/"+e.article.slug+"/"))&&$(_,"href",B),fr&&!r.article||hr===(hr=e.article.title+"")||L(O,hr),fr&&!r.article||vr===(vr=e.article.html+"")||(Q.innerHTML=vr),fr&&!r.article||dr===(dr=e.article.author+"")||(Y.innerHTML=dr),r.otherArticles){var a;for(mr=e.otherArticles,a=0;a<mr.length;a+=1){var s=V(e,mr,a);pr[a]?(pr[a].p(r,s),u(pr[a],1)):(pr[a]=k(s),pr[a].c(),u(pr[a],1),pr[a].m(J,ir))}for(D(),a=mr.length;a<pr.length;a+=1)br(a);I()}},i:function(r){if(!fr){u(gr.$$.fragment,r);for(var e=0;e<mr.length;e+=1)u(pr[e]);fr=!0}},o:function(r){h(gr.$$.fragment,r),pr=pr.filter(Boolean);for(var e=0;e<pr.length;e+=1)h(pr[e]);fr=!1},d:function(r){v(gr),r&&w(e),r&&w(t),y(pr,r)}}}var P=function(r){return function(e){return r.tags.filter((function(r){return e.tags.includes(r)})).length}};function K(r){var e,t,a,s,c,i,n;return T.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=r.params,r.query,l.prev=1,l.next=4,T.awrap(this.fetch("/articles/".concat(e.slug,".json")));case 4:if((t=l.sent).ok){l.next=7;break}throw t;case 7:return l.next=9,T.awrap(t.json());case 9:return a=l.sent,l.next=12,T.awrap(this.fetch("/articles.json"));case 12:return s=l.sent,l.next=15,T.awrap(s.json());case 15:return c=l.sent,i=P(a),n=c.filter((function(r){return r.slug!==a.slug})).sort((function(r,e){var t=i(r),a=i(e);return t>a?-1:t<a?1:r.weight>e.weight?-1:r.weight<e.weight?1:0})),l.abrupt("return",{article:a,otherArticles:n.slice(0,3)});case 21:l.prev=21,l.t0=l.catch(1),499===l.t0.status?this.error("You're offline","This content was not cached for offline use. Please return while connected to the network."):this.error(l.t0.status||"500",l.t0.message||"Unexpected error");case 24:case"end":return l.stop()}}),null,this,[[1,21]])}function _(r,e,t){var a=e.article,s=e.otherArticles;return z((function(){S.highlightAll({async:!0})})),r.$set=function(r){"article"in r&&t("article",a=r.article),"otherArticles"in r&&t("otherArticles",s=r.otherArticles)},{article:a,otherArticles:s}}var q=function(l){function o(r){var i;return e(this,o),i=t(this,a(o).call(this)),s(c(i),r,_,C,n,{article:0,otherArticles:0}),i}return r(o,i),o}();export default q;export{K as preload};
