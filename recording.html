<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs" name=description> <meta content="width=device-width,initial-scale=1" name=viewport> <base href=/ > <link href=https://fonts.gstatic.com/s/sourcesanspro/v13/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7lujVj9w.woff2 rel=preload type=font/woff2 as=font crossorigin=anonymous> <link href=https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ig4vwlxdu3cOWxw.woff2 rel=preload type=font/woff2 as=font crossorigin=anonymous> <link href=/Material-Design-Icons.woff rel=preload type=font/woff2 as=font crossorigin=anonymous> <style>@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:local('Source Sans Pro Regular'),local('SourceSansPro-Regular'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7lujVj9w.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:700;font-display:swap;src:local('Source Sans Pro Bold'),local('SourceSansPro-Bold'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ig4vwlxdu3cOWxw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:700;font-display:swap;src:local('Source Sans Pro Bold'),local('SourceSansPro-Bold'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ig4vwmRdu3cOWxy40.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:"Material Design Icons";src:url(/Material-Design-Icons.woff) format("woff");font-weight:400;font-style:normal}</style> <link href=icon-76x76.png rel=apple-touch-icon sizes="60x60 72x72 76x76"> <link href=icon-120x120.png rel=apple-touch-icon sizes="114x114 120x120"> <link href=icon-144x144.png rel=apple-touch-icon sizes=144x144> <link href=icon-152x152.png rel=apple-touch-icon sizes=152x152> <link href=icon-180x180.png rel=apple-touch-icon sizes="167x167 180x180"> <link href=icon-32x32.png rel=icon sizes="16x16 32x32" type=image/png> <link href=icon-96x96.png rel=icon sizes=96x96 type=image/png> <link href=icon-192x192.png rel=icon sizes=192x192 type=image/png> <link href=manifest.json rel=manifest> <link href=client/main.20781438.css rel=stylesheet><link href=client/[feature].html.27920801.css rel=stylesheet><link href=client/prism.7976db51.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>What Web Can Do Today: Recording Media</title> <meta content="What Web Can Do Today: Recording Media" property=og:title> <meta content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs." property=og:description> <meta content=https://whatwebcando.today/recording.html property=og:url> <meta content=https://whatwebcando.today/images/share-image.png property=og:image> <meta content="What Web Can Do Today: Recording Media" name=twitter:title> <meta content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs." name=twitter:description> <meta content=https://whatwebcando.today/images/share-image.png name=twitter:image><noscript id=sapper-head-end></noscript> <meta content=yes name=apple-mobile-web-app-capable> <meta content=yes name=mobile-web-app-capable> <meta content="What Web Can Do Today" name=application-name> <meta content="What Web Can Do" name=apple-mobile-web-app-title> <meta content=https://whatwebcando.today/icon-144x144.png name=msapplication-TileImage> <meta content=#ffffff name=theme-color> <meta content=#ffffff name=msapplication-navbutton-color> <meta content=black-translucent name=apple-mobile-web-app-status-bar-style> <meta content=/ name=msapplication-starturl> <meta content=website property=og:type> <meta content=WhatWebCanDo property=og:site_name> <meta content=summary name=twitter:card> <meta content=@WhatWebCanDo name=twitter:site> <meta content="ArwJxpJHLSWVBvjjQdrLQmaNmEWqwy8avXhfQz6LucaHi6E8WQqBaOblE0Z5VKA6J9kgb07nziI5EF/LmdX6+woAAABSeyJvcmlnaW4iOiJodHRwczovL3doYXR3ZWJjYW5kby50b2RheTo0NDMiLCJmZWF0dXJlIjoiV2ViTkZDIiwiZXhwaXJ5IjoxNTg2MTkzMzI1fQ==" http-equiv=origin-trial> <meta content=AvXPG1STQvEBgDH2JFiDYWH1E1Eev55sYyz+szZiCeHhwQ/VAGicjx09J1WuU2Oj5q2WRr8zZsCe7jrd+a8zTA4AAABUeyJvcmlnaW4iOiJodHRwczovL3doYXR3ZWJjYW5kby50b2RheTo0NDMiLCJmZWF0dXJlIjoiV2FrZUxvY2siLCJleHBpcnkiOjE1ODYxOTMzOTh9 http-equiv=origin-trial> <meta content=AokzD/SJeJfcKJARUtujICN14urOGYKGGlHJWE2Aixopd5YQcdCwchsqcwS84XJSX6PJTkMuabIcE1ZRZxuMzgEAAABXeyJvcmlnaW4iOiJodHRwczovL3doYXR3ZWJjYW5kby50b2RheTo0NDMiLCJmZWF0dXJlIjoiU21zUmVjZWl2ZXIiLCJleHBpcnkiOjE1ODM3NzQwODl9 http-equiv=origin-trial> </head> <body> <div id=sapper> <header class="svelte-1y3p91s text-center"> <nav> <ul class=svelte-1y3p91s> <li class=svelte-1y3p91s><a href=. class=svelte-1y3p91s>Features</a></li> <li class=svelte-1y3p91s><a href=/articles/ class=svelte-1y3p91s>Articles</a></li> <li class=svelte-1y3p91s><a href=https://adambar.pl/#services rel=noopener target=_blank class=svelte-1y3p91s>Services</a></li> <li class=svelte-1y3p91s><a href=https://adambar.pl/#workshops rel=noopener target=_blank class=svelte-1y3p91s>Trainings</a></li> </ul> </nav> <div class="svelte-1y3p91s title-container"> <h1 class=svelte-1y3p91s>What Web Can Do Today?</h1> <p class=svelte-1y3p91s>Can I rely on the Web Platform features to build my app?</p> <p class=svelte-1y3p91s>An overview of the device integration HTML5 APIs</p> </div> </header> <main class="svelte-bsi55g page"> <nav aria-label=breadcrumbs class=breadcrumb> <ul> <li><a href=/ >Features</a></li> <li class=is-active><a href=/recording.html aria-current=page>Recording Media</a></li> </ul> </nav> <article> <h2>Recording Media</h2> <section> <p>The <b>Media Recorder API</b> is a Web API allowing Web applications to record audio and video Media Streams, local and/or remote. It relies on the <code>mediaStream</code> object - see <a href=/camera-microphone.html>Audio & Video Capture</a>.</p> </section> <section> <h3>API glimpse</h3> <div class="language-javascript api-glimpse"><dl> <dt><code>recorder = new MediaRecorder(mediaStream, options)</code></dt> <dd>Creates a media recorder out of a Media Stream. <code>options</code> selects e.g. the intended <code>MIME type</code> and/or the target bitrates.</dd> <dt><code>MediaRecorder.isMimeTypeSupported(mimeType)</code></dt> <dd>Static function checking if <code>mimeType</code> is, in principle, supported for recording.</dd> <dt><code>recorder.start(interval)</code></dt> <dd>Starts recording data, producing it as chunks in <code>ondataavailable</code>'s <code>event.data</code>, every <code>interval</code> ms, if explicited.</dd> </dl></div> </section> <section> <h3>Live Demo</h3> <div class="svelte-bsi55g demo-placeholder"> <style>video{background-color:#fff}</style> <video autoplay poster=https://image.freepik.com/free-icon/video-camera-symbol_318-40225.png style=height:180px;width:240px></video> <p><button onclick=getStream()>Grab video & start recording</button></p> <p><button onclick=download()>Download!</button></p> <p><small>Demo by <a href=http://www.mcasas.tk/ rel=noopener target=_blank>Miguel Casas-Sanchez</a>.</small></p> </div> <ul class="svelte-bsi55g tabs"> <li class="svelte-bsi55g tab"> <input class=svelte-bsi55g id=demo-code-js name=tabs type=radio checked> <label class=svelte-bsi55g for=demo-code-js>JavaScript</label> <pre class="svelte-bsi55g demo-code-tab" id=demo-code-content-js><code class=language-javascript>function getUserMedia(options, successCallback, failureCallback) {
  var api = navigator.getUserMedia || navigator.webkitGetUserMedia ||
    navigator.mozGetUserMedia || navigator.msGetUserMedia;
  if (api) {
    return api.bind(navigator)(options, successCallback, failureCallback);
  }
}

var theStream;
var theRecorder;
var recordedChunks = [];

function getStream() {
  if (!navigator.getUserMedia && !navigator.webkitGetUserMedia &&
    !navigator.mozGetUserMedia && !navigator.msGetUserMedia) {
    alert('User Media API not supported.');
    return;
  }
  
  var constraints = {video: true, audio: true};
  getUserMedia(constraints, function (stream) {
    var mediaControl = document.querySelector('video');
    
    if ('srcObject' in mediaControl) {
      mediaControl.srcObject = stream;
    } else if (navigator.mozGetUserMedia) {
      mediaControl.mozSrcObject = stream;
    } else {
      mediaControl.src = (window.URL || window.webkitURL).createObjectURL(stream);
    }
    
    theStream = stream;
    try {
      recorder = new MediaRecorder(stream, {mimeType : "video/webm"});
    } catch (e) {
      console.error('Exception while creating MediaRecorder: ' + e);
      return;
    }
    theRecorder = recorder;
    console.log('MediaRecorder created');
    recorder.ondataavailable = recorderOnDataAvailable;
    recorder.start(100);
  }, function (err) {
    alert('Error: ' + err);
  });
}

function recorderOnDataAvailable(event) {
  if (event.data.size == 0) return;
  recordedChunks.push(event.data);
}

function download() {
  console.log('Saving data');
  theRecorder.stop();
  theStream.getTracks()[0].stop();

  var blob = new Blob(recordedChunks, {type: "video/webm"});
  var url = (window.URL || window.webkitURL).createObjectURL(blob);
  var a = document.createElement("a");
  document.body.appendChild(a);
  a.style = "display: none";
  a.href = url;
  a.download = 'test.webm';
  a.click();
  
  // setTimeout() here is needed for Firefox.
  setTimeout(function () {
      (window.URL || window.webkitURL).revokeObjectURL(url);
  }, 100); 
}</code></pre> </li> <li class="svelte-bsi55g tab"> <input class=svelte-bsi55g id=demo-code-html name=tabs type=radio> <label class=svelte-bsi55g for=demo-code-html>HTML</label> <pre class="svelte-bsi55g demo-code-tab" id=demo-code-content-html><code class=language-html>&lt;video autoplay style="height:180px; width: 240px;" poster="https://image.freepik.com/free-icon/video-camera-symbol_318-40225.png">&lt;/video>
&lt;p>&lt;button onclick="getStream()">Grab video & start recording&lt;/button>&lt;/p>
&lt;p>&lt;button onclick="download()">Download!&lt;/button>&lt;/p>
  
&lt;p>&lt;small>Demo by &lt;a href="http://www.mcasas.tk/" target="_blank" rel="noopener">Miguel Casas-Sanchez&lt;/a>.&lt;/small>&lt;/p></code></pre> </li> </ul> </section> <section aria-hidden=true> <h3>Browser support</h3> <div class=caniuse-report> <div class="svelte-bsi55g row"> <div class="svelte-bsi55g col-sm-6 ct-chart browsers-chart"></div> <div class="svelte-bsi55g col-sm-6 ct-chart overall-chart"></div> </div> <div class="svelte-bsi55g row"> <div class="svelte-bsi55g legend"> <ul class=svelte-bsi55g> <li class=svelte-bsi55g><i class="cl-support cl-support-no"></i> No support</li> <li class=svelte-bsi55g><i class="cl-support cl-support-partial"></i> Partial support, <a href="http://caniuse.com/#feat=mediarecorder" rel=noopener target=_blank>see details</a></li> <li class=svelte-bsi55g><i class="cl-support cl-support-full"></i> Full support</li> </ul> </div> <div class="svelte-bsi55g text-right"> <a href="http://caniuse.com/#feat=mediarecorder" rel=noopener target=_blank>Data from caniuse.com</a>, <small>CC-BY 4.0 license</small> </div> </div> </div> </section> <section> <h3>Resources</h3> <ul class=resources> <li><a href=https://w3c.github.io/mediacapture-record/MediaRecorder.html rel=noopener target=_blank>Specification Draft</a><li><a href=https://webrtc.github.io/samples/src/content/getusermedia/record/ rel=noopener target=_blank>Demo recording local data</a></li> </ul> </section> </article> </main> <div class="svelte-p0dnmz loader" aria-hidden=true> <div class="svelte-p0dnmz lds-ellipsis"> <div class=svelte-p0dnmz></div><div class=svelte-p0dnmz></div><div class=svelte-p0dnmz></div><div class=svelte-p0dnmz></div> </div> </div> <div class="svelte-btjd4g container" aria-label="Website footer"> <div class="text-center contact"> <h2 class=svelte-btjd4g>Get in touch</h2> <ul class=svelte-btjd4g> <li class=svelte-btjd4g><a href=mailto:hi@adambar.pl class="svelte-btjd4g icon mail-icon">Mail</a></li> <li class=svelte-btjd4g><a href=https://twitter.com/WhatWebCanDo rel="noreferrer noopener" target=_blank class="svelte-btjd4g icon twitter-icon">Twitter</a></li> <li class=svelte-btjd4g><a href=https://linkedin.com/in/adamrbar rel="noreferrer noopener" target=_blank class="svelte-btjd4g icon linkedin-icon">LinkedIn</a></li> <li class=svelte-btjd4g><a href=https://github.com/NOtherDev/whatwebcando rel="noreferrer noopener" target=_blank class="svelte-btjd4g icon github-icon">GitHub</a></li> </ul> </div> <footer class=svelte-btjd4g role=contentinfo> <p class=text-left><a href=/privacy.html class=svelte-btjd4g>Privacy Policy</a></p> <p class=text-right> Created by <a href=https://adambar.pl rel=noopener target=_blank class=svelte-btjd4g>Adam Bar</a><br> Licenced under <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel="noreferrer noopener" target=_blank class=svelte-btjd4g>CC-BY-SA 4.0</a> </p> </footer> </div></div> <script crossorigin=anonymous integrity=sha384-y+an4eARFKvjzOivf/Z7JtMJhaN6b+lLQ5oFbBbUwZNNVir39cYtkjW1r6Xjbxg3 src=https://browser.sentry-cdn.com/5.12.1/bundle.min.js></script> <script>window.Sentry && Sentry.init({ dsn: 'https://f769df61d95342d7af636da1f998069c@sentry.io/1876595' });</script> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,]};if('serviceWorker' in navigator) window.addEventListener('load',function(){navigator.serviceWorker.register('/service-worker.js');});(function(){try{eval("async function x(){}");var main="/client/client.9c71a453.js"}catch(e){main="/client/legacy/client.b97df0e4.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 